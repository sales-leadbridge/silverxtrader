<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SilverX | Secure Login</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #0052cc; --text: #333; --bg: #f4f6f8; }
        body { margin: 0; background: var(--bg); color: var(--text); font-family: 'Poppins', sans-serif; height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden; }

        /* Privacy Modal */
        #privacy-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 2000; display: flex; justify-content: center; align-items: center; backdrop-filter: blur(5px); }
        .policy-box { background: white; width: 85%; max-height: 70vh; border-radius: 20px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); display: flex; flex-direction: column; }
        .policy-content { overflow-y: auto; text-align: left; font-size: 13px; color: #555; line-height: 1.6; margin-bottom: 15px; }
        .policy-btn { background: var(--primary); color: white; padding: 12px; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; width: 100%; }

        /* Login Card */
        .login-card { background: white; padding: 40px 30px; border-radius: 24px; width: 85%; max-width: 380px; text-align: center; box-shadow: 0 10px 40px rgba(0,0,0,0.05); transform: translateY(0); transition: 0.3s; }
        .logo { font-size: 26px; font-weight: 800; color: #111; margin-bottom: 8px; letter-spacing: -0.5px; }
        .logo span { color: var(--primary); }
        .subtitle { color: #888; font-size: 14px; margin-bottom: 30px; }

        input { width: 100%; padding: 16px; margin: 8px 0; background: #f9f9f9; border: 1px solid #eee; color: #333; border-radius: 12px; box-sizing: border-box; font-size: 14px; outline: none; transition: 0.3s; }
        input:focus { border-color: var(--primary); background: #fff; }

        .btn { width: 100%; padding: 16px; border-radius: 12px; border: none; font-weight: 600; cursor: pointer; margin-top: 15px; font-size: 15px; box-shadow: 0 4px 15px rgba(0,82,204,0.2); transition: 0.2s; }
        .btn-blue { background: var(--primary); color: white; }
        .btn-blue:active { transform: scale(0.98); }
        
        .btn-google { background: white; border: 1px solid #eee; color: #444; display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 10px; box-shadow: none; }
    </style>
</head>
<body>

    <div id="privacy-modal">
        <div class="policy-box">
            <h3 style="margin-top: 0; color: var(--primary);">Terms & Privacy</h3>
            <div class="policy-content">
                <p>1. <strong>Risk Warning:</strong> Trading involves high risk. We are not responsible for any financial loss.</p>
                <p>2. <strong>No Guarantees:</strong> Signals are technical estimates, not financial advice.</p>
                <p>3. <strong>Ads:</strong> This tool uses ads to remain free. Interaction is required.</p>
                <p>4. <strong>Data:</strong> We use Google Firebase for secure login.</p>
                <p>5. <strong>Acceptance:</strong> By proceeding, you agree to these terms.</p>
            </div>
            <button class="policy-btn" onclick="acceptPolicy()">I AGREE & CONTINUE</button>
        </div>
    </div>

    <div class="login-card" id="login-screen" style="display:none;">
        <div class="logo">KING <span>TRADER</span></div>
        <div class="subtitle">Advanced Signal Analysis Bot</div>
        
        <input type="email" id="email" placeholder="Email Address">
        <input type="password" id="password" placeholder="Password">
        
        <button class="btn btn-blue" onclick="handleAuth()">LOGIN / SIGNUP</button>
        <button class="btn btn-google" onclick="handleGoogle()">
            <img src="https://www.gstatic.com/images/branding/product/1x/gsa_512dp.png" width="18"> Sign in with Google
        </button>
    </div>

<script>
    // --- FIREBASE CONFIG (Updated with your key) ---
    const firebaseConfig = {
        apiKey: "AIzaSyAyXzJ1UUdtWe96NjiQbVCqnWdIv8XakhA",
        authDomain: "silverxtrader.firebaseapp.com",
        projectId: "silverxtrader",
        storageBucket: "silverxtrader.firebasestorage.app",
        messagingSenderId: "46330013690",
        appId: "1:46330013690:web:c2aad241ad7abd49e0e643"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    function acceptPolicy() {
        document.getElementById('privacy-modal').style.display = 'none';
        document.getElementById('login-screen').style.display = 'block';
    }

    function handleAuth() {
        const email = document.getElementById('email').value;
        const pass = document.getElementById('password').value;
        if(!email || !pass) return alert("Please fill all fields");
        
        auth.signInWithEmailAndPassword(email, pass)
            .then(() => window.location.href="dashboard.html")
            .catch(() => {
                auth.createUserWithEmailAndPassword(email, pass)
                .then(() => alert("Account Created! Click Login again."))
                .catch(e => alert(e.message));
            });
    }

    function handleGoogle() {
        const provider = new firebase.auth.GoogleAuthProvider();
        auth.signInWithPopup(provider).then(() => {
            window.location.href = "dashboard.html";
        }).catch(e => alert(e.message));
    }
</script>
</body>
</html>

