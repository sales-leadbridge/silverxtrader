<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SilverX Trader | Login</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #0052cc; --bg: #f0f2f5; --text: #333; }
        body { margin: 0; padding: 0; font-family: 'Poppins', sans-serif; background: var(--bg); height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden; }

        /* PRIVACY MODAL (LOCKED) */
        #privacy-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999; display: flex; justify-content: center; align-items: center; backdrop-filter: blur(5px); }
        .privacy-box { background: white; width: 85%; max-width: 400px; max-height: 80vh; border-radius: 20px; padding: 25px; display: flex; flex-direction: column; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .privacy-header { font-size: 20px; font-weight: 700; color: var(--primary); margin-bottom: 15px; text-align: center; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .privacy-content { overflow-y: auto; text-align: left; font-size: 13px; color: #555; line-height: 1.6; flex-grow: 1; padding-right: 5px; }
        .privacy-btn { margin-top: 15px; background: var(--primary); color: white; padding: 14px; border: none; font-size: 16px; border-radius: 12px; cursor: pointer; font-weight: 700; width: 100%; transition: 0.3s; }
        .privacy-btn:hover { background: #003db3; }

        /* LOGIN CARD */
        .login-card { background: white; padding: 40px 30px; border-radius: 24px; width: 85%; max-width: 380px; text-align: center; box-shadow: 0 10px 40px rgba(0,0,0,0.1); display: none; } /* Hidden initially */
        .brand { font-size: 26px; font-weight: 800; color: #0a0e17; margin-bottom: 5px; }
        .brand span { color: var(--primary); }
        .tagline { color: #888; font-size: 14px; margin-bottom: 30px; }

        input { width: 100%; padding: 16px; margin: 8px 0; background: #f8f9fa; border: 1px solid #e1e4e8; color: #333; border-radius: 12px; box-sizing: border-box; font-size: 14px; outline: none; }
        input:focus { border-color: var(--primary); background: #fff; }

        .btn-main { width: 100%; padding: 16px; border-radius: 12px; border: none; font-weight: 700; cursor: pointer; margin-top: 15px; font-size: 15px; background: var(--primary); color: white; box-shadow: 0 5px 15px rgba(0,82,204,0.3); }
        .btn-google { background: white; border: 1px solid #ddd; color: #555; display: flex; align-items: center; justify-content: center; gap: 10px; box-shadow: none; margin-top: 10px; }

        /* INTERNET CHECK */
        #no-net { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: black; color: white; z-index: 10000; justify-content: center; align-items: center; flex-direction: column; text-align: center; }
    </style>
</head>
<body>

    <div id="no-net">
        <h2 style="color: #ff4757;">NO INTERNET</h2>
        <p>Please connect to internet to use SilverX Trader</p>
    </div>

    <div id="privacy-overlay">
        <div class="privacy-box">
            <div class="privacy-header">PRIVACY & TERMS</div>
            <div class="privacy-content">
                <p><strong>1. Introduction:</strong> SilverX Trader provides technical analysis based on algorithms.</p>
                <p><strong>2. High Risk:</strong> Trading involves significant risk. You may lose your capital.</p>
                <p><strong>3. No Liability:</strong> SilverX Trader and its developers are NOT responsible for any financial losses.</p>
                <p><strong>4. Not Financial Advice:</strong> Signals are for educational purposes only.</p>
                <p><strong>5. Accuracy:</strong> We do not guarantee 100% accuracy of signals.</p>
                <p><strong>6. Third-Party Links:</strong> We are not responsible for content on external sites (e.g., Quotex).</p>
                <p><strong>7. Advertising:</strong> This app uses ads to support maintenance.</p>
                <p><strong>8. Availability:</strong> Service uptime is not guaranteed.</p>
                <p><strong>9. Data Usage:</strong> Login is handled securely via Google Firebase.</p>
                <p><strong>10. Age Limit:</strong> Users must be 18+ years old.</p>
                <p><strong>11. Jurisdiction:</strong> Ensure trading is legal in your country.</p>
                <p><strong>12. Agreement:</strong> Clicking 'Accept' confirms you agree to all terms.</p>
            </div>
            <button class="privacy-btn" onclick="acceptPrivacy()">I ACCEPT & PROCEED</button>
        </div>
    </div>

    <div class="login-card" id="login-screen">
        <div class="brand">SILVER<span>X</span> TRADER</div>
        <div class="tagline">Professional Trading Analysis</div>
        
        <input type="email" id="email" placeholder="Email Address">
        <input type="password" id="password" placeholder="Password">
        
        <button class="btn-main" onclick="emailLogin()">LOGIN / REGISTER</button>
        <button class="btn-main btn-google" onclick="googleLogin()">
            <img src="https://www.gstatic.com/images/branding/product/1x/gsa_512dp.png" width="18"> Sign in with Google
        </button>
    </div>

    <script>
        // --- YOUR CONFIG ---
        const firebaseConfig = {
            apiKey: "AIzaSyAyXzJ1UUdtWe96NjiQbVCqnWdIv8XakhA",
            authDomain: "silverxtrader.firebaseapp.com",
            projectId: "silverxtrader",
            storageBucket: "silverxtrader.firebasestorage.app",
            messagingSenderId: "46330013690",
            appId: "1:46330013690:web:c2aad241ad7abd49e0e643"
        };
        
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        // 1. Internet Check
        function checkNet() {
            document.getElementById('no-net').style.display = navigator.onLine ? 'none' : 'flex';
        }
        window.addEventListener('online', checkNet);
        window.addEventListener('offline', checkNet);
        checkNet();

        // 2. Privacy Logic
        function acceptPrivacy() {
            document.getElementById('privacy-overlay').style.display = 'none';
            document.getElementById('login-screen').style.display = 'block';
        }

        // 3. Login Logic
        function googleLogin() {
            const provider = new firebase.auth.GoogleAuthProvider();
            auth.signInWithPopup(provider).then(() => {
                window.location.href = "dashboard.html";
            }).catch(e => alert(e.message));
        }

        function emailLogin() {
            const em = document.getElementById('email').value;
            const ps = document.getElementById('password').value;
            if(!em || !ps) return alert("Enter email and password");
            
            auth.signInWithEmailAndPassword(em, ps)
                .then(() => window.location.href = "dashboard.html")
                .catch(() => {
                    auth.createUserWithEmailAndPassword(em, ps)
                        .then(() => alert("Account Created! Please Login now."))
                        .catch(e => alert(e.message));
                });
        }
    </script>
</body>
</html>

